# Element UI 组件库二次封装

这是一个基于 Element UI 组件库进行二次封装的项目。提供的功能有：  
1. 可视化的自定义表单配置。
2. 表格拖拽（包含普通表格拖拽、可展开表格拖拽、树形表格拖拽）。

## 使用说明

### 安装依赖
```bash
npm install
```

### 运行项目
```bash
npm run serve
```

### 构建项目
```bash
npm run build
```

## 可视化的自定义表单配置

### 功能特点

- 支持多种表单组件类型
- 组件配置可视化
- 实时预览
- 表单验证
- 配置自定义组件

### 支持的组件类型

#### 基础输入组件
- 文本输入框 (Input Textarea)
- 数字输入框 (InputNumber)
- 开关 (Switch)

#### 选择类组件
- 单选框 (Radio)
- 复选框 (Checkbox)
- 下拉选择框 (Select)

#### 日期时间组件
- 日期选择器 (DatePicker)
- 时间选择器 (TimePicker)
- 日期时间选择器 (DateTimePicker)

#### 自定义组件
- 可自行配置的自定义组件

### 组件配置项

#### 通用配置
- 组件名称
- 是否必填
- 是否禁用
- 占位文本
- 默认值

#### 特定组件配置

##### 文本输入框
- 最大/最小长度
- 是否显示字数统计
- 是否可清空
- 前缀/后缀图标

##### 数字输入框
- 最小值/最大值
- 步长
- 精度
- 是否严格步数
- 是否显示控制按钮

##### 单选框/复选框
- 选项列表
- 默认选中项
- 选项布局

##### 下拉选择框
- 选项列表
- 是否多选
- 是否可清空
- 是否可搜索

##### 日期时间组件
- 日期/时间格式
- 选择范围
- 是否显示时间
- 是否可清空

### 使用指南

#### 配置表单
1. 在表单配置页面中配置表单项
2. 在表单展示中可以看到配置的表单项

#### 配置自定义组件
1. 在配置表单项的"项目类型"中选择"CustomItem 自定义组件"，自定义组件名称需要与组件的 name 属性提供的组件名称一致
2. 在 `FormCustom` 目录下创建自定义组件文件

#### 添加新组件
1. 在 `FormItem` 目录下创建组件文件
2. 在 `FormSettings` 目录下创建对应的配置面板
3. 在组件中实现必要的属性和方法
4. 在配置面板中实现组件的配置项

## 表格拖拽功能

本项目支持多种基于 Element UI 的表格拖拽功能，具体包括：普通表格拖拽、可展开表格拖拽、树形表格拖拽。相关示例代码位于 `src/pages/table/` 目录下。

### 1. 普通表格拖拽（basicTableDrag.vue）
- 支持对表格的整行进行拖拽排序。
- 拖拽方式为：鼠标移动到表格的行上，按住即可进行拖拽。
- 拖拽完成后，数据顺序会自动更新。
- 适用于无嵌套、无展开行的简单表格。

### 2. 可展开表格拖拽（deployableTableDrag.vue）
- 支持 Element UI 的可展开表格（带有展开行的表格）进行拖拽排序。
- 拖拽时，所有展开的行会自动收起，拖拽完成后会恢复原先的展开状态。
- 仅支持对未展开的主行进行拖拽，展开行不可拖拽。
- 拖拽完成后，表格数据顺序自动更新。
- 适用于需要展示详情信息的可展开表格场景。

### 3. 树形表格拖拽（treeTableDrag.vue）
- 支持树形结构（多级嵌套）的表格行拖拽。
- 仅支持同一父级节点下的同级节点之间拖拽，不能跨层级拖拽。
- 拖拽后，行的展开/折叠状态不会改变。
- 拖拽时会自动处理子节点的跟随移动，保证树结构的正确性。
- 适用于有层级结构的数据展示和排序需求。

> 以上拖拽功能均基于 [sortablejs](https://github.com/SortableJS/Sortable) 实现。
> 
> 如需体验和查看具体实现，请参考 `src/pages/table/` 目录下对应的 `.vue` 文件。


